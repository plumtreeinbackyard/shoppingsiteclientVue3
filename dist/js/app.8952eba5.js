(function(t){function e(e){for(var o,n,s=e[0],r=e[1],l=e[2],d=0,A=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&A.push(a[n][0]),a[n]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(A.length)A.shift()();return i.push.apply(i,l||[]),c()}function c(){for(var t,e=0;e<i.length;e++){for(var c=i[e],o=!0,s=1;s<c.length;s++){var r=c[s];0!==a[r]&&(o=!1)}o&&(i.splice(e--,1),t=n(n.s=c[0]))}return t}var o={},a={app:0},i=[];function n(e){if(o[e])return o[e].exports;var c=o[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=t,n.c=o,n.d=function(t,e,c){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(c,o,function(e){return t[e]}.bind(null,o));return c},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=r;i.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"156e":function(t,e,c){},"3b15":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAARklEQVR4AWOgBhgFCkD8AIj/o+EHYDkywX9yMB0toD+g3BeD2AICYJBbMGrBqAWjFjwioZh4RI4F/kB8nQjDr4PVkgtGAQBAiHefqmc5YAAAAABJRU5ErkJggg=="},"56d7":function(t,e,c){"use strict";c.r(e);c("4989"),c("ab8b");var o=c("1786"),a=c("7b13"),i=c("8c47");const n={issuer:"https://dev-71520271.okta.com/oauth2/default",clientId:"0oa2v869oehOdnHzK5d7",redirectUri:window.location.origin+"/login/callback",scopes:["openid","profile","email"],pkce:!0},s=new i["OktaAuth"](n);async function r(t){const e=await s.getUser();return!!e&&e.groups.includes(t)}var l={oktaAuth:s,isInGroup:r};const u={id:"app"};function d(t,e,c,a,i,n){const s=Object(o["z"])("Menu"),r=Object(o["z"])("router-view"),l=Object(o["z"])("Footer");return Object(o["u"])(),Object(o["f"])("div",u,[Object(o["j"])(s),Object(o["j"])(r),Object(o["j"])(l)])}var A=c("987e"),b=c.n(A);const g={class:"bg-dark"},j={class:"container"},p={class:"row justify-content-between"},O={class:"navbar navbar-expand-lg navbar-dark bg-dark",style:{width:"100%"}},m=Object(o["i"])("Shopping Site Demo "),v=Object(o["g"])("br",null,null,-1),h=Object(o["g"])("span",{style:{color:"#808080","font-size":"60%"}},"Coded in Vue 3 and ASP.NET Core",-1),y={class:"show-on-small-screen"},K={class:"cart-number",style:{color:"white"}},U=Object(o["g"])("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(o["g"])("span",{class:"navbar-toggler-icon"})],-1),f={class:"collapse navbar-collapse",id:"navbarTogglerDemo01","data-toggle":"collapse","data-target":".navbar-collapse"},F={class:"navbar-nav ml-auto mt-2 mt-lg-0"},R={class:"nav-item"},w=Object(o["i"])("Home"),B={key:0,class:"nav-item"},k=Object(o["i"])("Admin"),Q={class:"nav-item"},I=Object(o["i"])("Cart "),C={class:"cart-number",style:{color:"white"}},S={class:"nav-item"},E=Object(o["g"])("img",{src:b.a},null,-1),P={class:"nav-item"},q={class:"nav-item"};function M(t,e,a,i,n,s){const r=Object(o["z"])("router-link");return Object(o["u"])(),Object(o["f"])("div",g,[Object(o["g"])("div",j,[Object(o["g"])("div",p,[Object(o["g"])("nav",O,[Object(o["j"])(r,{to:"/",class:"navbar-brand text-align-left"},{default:Object(o["G"])(()=>[m,v,h],void 0,!0),_:1}),Object(o["g"])("div",y,[Object(o["j"])(r,{to:"/cart",class:"nav-link"},{default:Object(o["G"])(()=>[Object(o["g"])("div",{class:"cart-icon",style:Object(o["p"])({backgroundImage:"url("+c("fbb2")+")"})},[Object(o["g"])("span",K,Object(o["B"])(i.cartNumber),1)],4)],void 0,!0),_:1})]),U,Object(o["g"])("div",f,[Object(o["g"])("ul",F,[Object(o["g"])("li",R,[Object(o["j"])(r,{to:"/",class:"nav-link"},{default:Object(o["G"])(()=>[w],void 0,!0),_:1})]),t.authState&&t.authState.isAuthenticated&&t.isAdmin?(Object(o["u"])(),Object(o["f"])("li",B,[Object(o["j"])(r,{to:"/admin",class:"nav-link"},{default:Object(o["G"])(()=>[k],void 0,!0),_:1})])):Object(o["e"])("",!0),Object(o["g"])("li",Q,[Object(o["j"])(r,{to:"/cart",class:"nav-link"},{default:Object(o["G"])(()=>[I,Object(o["g"])("div",{class:"cart-icon",style:Object(o["p"])({backgroundImage:"url("+c("fbb2")+")"})},[Object(o["g"])("span",C,Object(o["B"])(i.cartNumber),1)],4)],void 0,!0),_:1})]),Object(o["g"])("li",S,[t.authState&&t.authState.isAuthenticated?(Object(o["u"])(),Object(o["d"])(r,{key:0,to:"/myaccount",class:"nav-link",style:{color:"#fff"}},{default:Object(o["G"])(()=>[E,Object(o["i"])(" "+Object(o["B"])(t.claims.given_name),1)],void 0,!0),_:1})):Object(o["e"])("",!0)]),Object(o["g"])("li",P,[t.authState&&t.authState.isAuthenticated?Object(o["e"])("",!0):(Object(o["u"])(),Object(o["f"])("div",{key:0,onClick:e[0]||(e[0]=t=>s.login()),class:"nav-link",style:{cursor:"pointer"}}," Login "))]),Object(o["g"])("li",q,[t.authState&&t.authState.isAuthenticated?(Object(o["u"])(),Object(o["f"])("div",{key:0,onClick:e[1]||(e[1]=t=>s.logout()),class:"nav-link",style:{cursor:"pointer"}}," Logout ")):Object(o["e"])("",!0)])])])])])])])}var H=c("5502");const x="/";var T={name:"Menu",setup(){const t=Object(H["b"])(),e=Object(o["b"])(()=>t.getters["cart/cartTotalItemNumber"]);return{cartNumber:e}},data:function(){return{isAdmin:!1,claims:{}}},created(){this.init()},methods:{init(){setTimeout(async()=>{this.authState&&this.authState.isAuthenticated&&(this.claims=await this.$auth.getUser(),this.isAdmin=this.claims.groups.includes("admin"))},1e3)},login(){this.$auth.signInWithRedirect({originalUri:x})},logout(){this.$auth.signOut({postLogoutRedirectUri:""+window.location.origin})}}},V=c("6b0d"),N=c.n(V);const J=N()(T,[["render",M]]);var Y=J;const z=Object(o["g"])("p",null,"© 2020 - 2021 Janet Wang",-1),D=[z];function W(t,e,c,a,i,n){return Object(o["u"])(),Object(o["f"])("footer",null,D)}var G={name:"Footer"};const L=N()(G,[["render",W]]);var X=L,Z={name:"App",components:{Menu:Y,Footer:X}};c("cc15");const $=N()(Z,[["render",d]]);var _=$,tt=c("6c02"),et=c("c223"),ct=c.n(et);const ot={class:"main"},at=Object(o["g"])("h1",null,"Product list",-1),it={key:0,class:"alert alert-dismissible alert-warning"},nt=Object(o["g"])("button",{type:"button",class:"close","data-dismiss":"alert"}," × ",-1),st={class:"mb-0"},rt={class:"card mb-3"},lt={class:"row no-gutters"},ut=Object(o["g"])("div",{class:"col-5 col-lg-4"},[Object(o["g"])("img",{src:ct.a,class:"card-img img-fluid"})],-1),dt={class:"col-7 col-lg-8 text-left"},At={class:"card-body"},bt={class:"card-text"},gt={class:"card-text"};function jt(t,e,c,a,i,n){const s=Object(o["z"])("router-link");return Object(o["u"])(),Object(o["f"])("div",ot,[at,a.isProductsEmpty?(Object(o["u"])(),Object(o["f"])("div",it,[nt,Object(o["g"])("p",st,Object(o["B"])(a.msg),1)])):Object(o["e"])("",!0),(Object(o["u"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(a.products,t=>(Object(o["u"])(),Object(o["f"])("div",{class:"container",key:t.id},[Object(o["g"])("div",rt,[Object(o["j"])(s,{to:{name:"Product",params:{id:t.id}}},{default:Object(o["G"])(()=>[Object(o["g"])("div",lt,[ut,Object(o["g"])("div",dt,[Object(o["g"])("div",At,[Object(o["g"])("p",bt,Object(o["B"])(t.title),1),Object(o["g"])("p",gt,"$"+Object(o["B"])(t.price),1)])])])],void 0,!0),_:2},1032,["to"])])]))),128))])}var pt={name:"Home",setup(){const t=Object(H["b"])();t.dispatch("products/getAllProducts");const e=Object(o["b"])(()=>t.state.products.all),c=Object(o["b"])(()=>0===e.value.length);return{products:e,isProductsEmpty:c,msg:"No products, please go to Admin page and add products to database."}}};const Ot=N()(pt,[["render",jt]]);var mt=Ot,vt=c("61fb"),ht=c.n(vt),yt=c("3b15"),Kt=c.n(yt);const Ut={class:"main"},ft=Object(o["g"])("h1",null,"Add products to database",-1),Ft={key:0,class:"alert alert-dismissible alert-warning"},Rt=Object(o["g"])("button",{type:"button",class:"close","data-dismiss":"alert"}," × ",-1),wt=Object(o["g"])("h4",{class:"alert-heading"},"Error!",-1),Bt={class:"mb-0"},kt={class:"container"},Qt={class:"row align-items-center"},It={class:"col-4"},Ct={class:"form-group"},St=Object(o["g"])("label",{for:"title"},"Title",-1),Et={class:"col-4"},Pt={class:"form-group"},qt=Object(o["g"])("label",{for:"price"},"Price",-1),Mt={class:"col-4"},Ht={class:"form-group"},xt=Object(o["g"])("label",{for:"inventory"},"Inventory",-1),Tt=Object(o["g"])("div",{class:"row"},[Object(o["g"])("div",{class:"col-12"},[Object(o["g"])("button",{type:"submit",class:"btn btn-dark mt-3"},"Add product")])],-1),Vt=Object(o["g"])("hr",null,null,-1),Nt={class:"container"},Jt=Object(o["g"])("h1",null,"Product list",-1),Yt={class:"datatable display table table-striped"},zt=Object(o["g"])("thead",null,[Object(o["g"])("tr",null,[Object(o["g"])("th",{scope:"col"},"Product name"),Object(o["g"])("th",{scope:"col"},"Price"),Object(o["g"])("th",{scope:"col"},"Inventory"),Object(o["g"])("th",{scope:"col"})])],-1),Dt=Object(o["g"])("img",{src:ht.a,"data-toggle":"tooltip","data-placement":"bottom",title:"Edit product"},null,-1),Wt=["onClick"];function Gt(t,e,c,a,i,n){const s=Object(o["z"])("router-link");return Object(o["u"])(),Object(o["f"])("div",Ut,[ft,Object(o["g"])("form",{onSubmit:e[3]||(e[3]=Object(o["I"])((...t)=>a.addProduct&&a.addProduct(...t),["prevent"]))},[a.error?(Object(o["u"])(),Object(o["f"])("div",Ft,[Rt,wt,Object(o["g"])("p",Bt,Object(o["B"])(a.error),1)])):Object(o["e"])("",!0),Object(o["g"])("div",kt,[Object(o["g"])("div",Qt,[Object(o["g"])("div",It,[Object(o["g"])("div",Ct,[St,Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.newItem.title=t),type:"text",class:"form-control",id:"title",placeholder:"Enter a product name",required:""},null,512),[[o["D"],a.newItem.title]])])]),Object(o["g"])("div",Et,[Object(o["g"])("div",Pt,[qt,Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.newItem.price=t),type:"number",min:"0",step:"0.01",class:"form-control",id:"price",placeholder:"Enter product price",required:""},null,512),[[o["D"],a.newItem.price]])])]),Object(o["g"])("div",Mt,[Object(o["g"])("div",Ht,[xt,Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.newItem.inventory=t),type:"number",class:"form-control",id:"inventory",placeholder:"Enter product inventory",required:""},null,512),[[o["D"],a.newItem.inventory]])])])]),Tt])],32),Vt,Object(o["g"])("div",Nt,[Jt,Object(o["g"])("table",Yt,[zt,Object(o["g"])("tbody",null,[(Object(o["u"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(a.products,(t,e)=>(Object(o["u"])(),Object(o["f"])("tr",{key:e,style:{cursor:"pointer"}},[Object(o["g"])("td",null,Object(o["B"])(t.title),1),Object(o["g"])("td",null,"$"+Object(o["B"])(t.price),1),Object(o["g"])("td",null,Object(o["B"])(t.inventory),1),Object(o["g"])("td",null,[Object(o["j"])(s,{to:{name:"Edit",params:{id:t.id}}},{default:Object(o["G"])(()=>[Dt],void 0,!0),_:2},1032,["to"]),Object(o["g"])("img",{src:Kt.a,"data-toggle":"tooltip","data-placement":"bottom",title:"Delete product",onClick:c=>a.deleteProduct(e,t.id)},null,8,Wt)])]))),128))])])])])}var Lt=c("bc3a"),Xt=c.n(Lt);const Zt="https://shoppingsiteapi.herokuapp.com",$t=Zt+"/api/products",_t=Zt+"/api/products";var te={name:"Admin",setup(){let t="";const e=Object(o["x"])([]),c=Object(o["x"])({title:"",price:0,inventory:0});Object(o["s"])(async()=>{try{const t=await Xt.a.get($t);e.value=t.data}catch(c){t="Something went wrong with getting products data from database!"}});const a={headers:{Authorization:"Bearer "+l.oktaAuth.getAccessToken()}},i=async()=>{try{const o=await Xt.a.post(_t,c.value,a);e.value.push(o.data),t="",c.value={title:"",price:0,inventory:0},alert("One product has been added to database.")}catch(o){t="Something went wrong with saving form data!"}},n=async(c,o)=>{const i=`${Zt}/api/products/${o}`,n=confirm("Are you sure that you need to delete this product?");if(n)try{await Xt.a.delete(i,{data:{id:o},headers:a.headers}),e.value.splice(c,1)}catch(s){t="Something went wrong with deleting product!"}};return{error:t,products:e,newItem:c,addProduct:i,deleteProduct:n}}};const ee=N()(te,[["render",Gt]]);var ce=ee;const oe={class:"main"},ae=Object(o["g"])("h1",null,"Product detail",-1),ie={class:"container"},ne={class:"row no-gutters"},se=Object(o["g"])("div",{class:"col-12 col-sm-5 col-lg-4"},[Object(o["g"])("img",{src:ct.a,class:"card-img img-fluid"})],-1),re={class:"col-12 col-sm-7 col-lg-8 text-left"},le={class:"card-body"},ue={class:"card-text"},de={class:"card-text"},Ae={class:"card-text"},be={class:"container pl-0"},ge={class:"row"},je={class:"col-6 col-lg-3"},pe={class:"form-group"},Oe={class:"col-6 col-lg-4 text-left"},me=["disabled"],ve={key:0,class:"card-text",style:{color:"red"}};function he(t,e,c,a,i,n){return Object(o["u"])(),Object(o["f"])("div",oe,[ae,Object(o["g"])("div",ie,[Object(o["g"])("div",ne,[se,Object(o["g"])("div",re,[Object(o["g"])("div",le,[Object(o["g"])("p",ue,Object(o["B"])(a.product.title),1),Object(o["g"])("p",de,"$"+Object(o["B"])(a.product.price),1),Object(o["g"])("p",Ae," Inventory: "+Object(o["B"])(a.product.inventory>0?"In stock":"Out of stock"),1),Object(o["g"])("form",{onSubmit:e[1]||(e[1]=Object(o["I"])(t=>a.addToCart(),["prevent"]))},[Object(o["g"])("div",be,[Object(o["g"])("div",ge,[Object(o["g"])("div",je,[Object(o["g"])("div",pe,[Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.quantity=t),type:"number",min:"0",class:"form-control",id:"quantity",required:""},null,512),[[o["D"],a.quantity]])])]),Object(o["g"])("div",Oe,[Object(o["g"])("button",{disabled:!a.isInventoryGood,type:"submit",class:"btn btn-dark"}," Add to cart ",8,me)])])])],32),a.isInventoryGood?Object(o["e"])("",!0):(Object(o["u"])(),Object(o["f"])("p",ve," This product's inventory is lower than the quantity you required. "))])])])])])}var ye={name:"Product",setup(){const t=Object(H["b"])(),e=Object(tt["c"])(),{id:c}=e.params,a=Object(o["x"])(0),i=t.getters["products/getOneProduct"](c),n=Object(o["b"])(()=>parseInt(i.inventory,10)>=a.value),s=()=>t.dispatch("cart/addProductToCart",{id:c,quantity:a.value}),r=async()=>{a.value?(await s(),a.value=0,alert("Added to cart.")):alert("Quantity should be greater than 0.")};return{id:c,quantity:a,product:i,isInventoryGood:n,addProductToCart:s,addToCart:r}}};const Ke=N()(ye,[["render",he]]);var Ue=Ke;const fe={class:"main"},Fe=Object(o["g"])("h1",null,"Your Cart",-1),Re=Object(o["h"])('<div class="container"><div class="row align-items-center"><div class="col-4"></div><div class="col-5"></div><div class="col-3"> Price </div></div></div><hr>',2),we={class:"container"},Be={class:"row align-items-center"},ke=Object(o["g"])("div",{class:"col-4"},[Object(o["g"])("img",{src:ct.a,class:"img-fluid"})],-1),Qe={class:"col-5 text-left"},Ie={class:"font-weight-bold"},Ce=Object(o["g"])("p",null,"Quantity:",-1),Se={class:"form-group"},Ee=["onUpdate:modelValue","onInput"],Pe={key:0,style:{color:"red"}},qe=["onClick"],Me={class:"col-3"},He=Object(o["g"])("hr",null,null,-1),xe={class:"container"},Te={class:"row"},Ve=Object(o["g"])("div",{class:"col-9 text-right"},"Subtotal:",-1),Ne={class:"col-3"},Je={class:"mt-5 mb-5"},Ye=["disabled"];function ze(t,e,c,a,i,n){return Object(o["u"])(),Object(o["f"])("div",fe,[Fe,Object(o["H"])(Object(o["g"])("p",null," Your cart is empty, add some products to cart. ",512),[[o["E"],!a.products.length]]),Object(o["g"])("form",{onSubmit:e[0]||(e[0]=Object(o["I"])(t=>n.checkout(),["prevent"]))},[Object(o["H"])(Object(o["g"])("div",null,[Re,(Object(o["u"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(a.products,(t,e)=>(Object(o["u"])(),Object(o["f"])("li",{key:e},[Object(o["g"])("div",we,[Object(o["g"])("div",Be,[ke,Object(o["g"])("div",Qe,[Object(o["g"])("h5",Ie,Object(o["B"])(t.title),1),Ce,Object(o["g"])("div",Se,[Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":t=>a.quantities[e]=t,type:"number",min:"1",class:"form-control",style:{width:"80px"},onInput:c=>a.changeQuantity(e,t.inventory,t.id,a.quantities[e])},null,40,Ee),[[o["D"],a.quantities[e]]]),parseInt(t.inventory,10)<a.quantities[e]?(Object(o["u"])(),Object(o["f"])("span",Pe," Low inventory ")):Object(o["e"])("",!0)]),Object(o["g"])("p",null,[Object(o["g"])("a",{href:"javascript:void(0)",onClick:e=>a.removeItem(t.id),style:{color:"#808080","text-decoration":"underline","font-size":"85%"}},"Remove",8,qe)])]),Object(o["g"])("div",Me,"$"+Object(o["B"])(t.price),1)])])]))),128)),He,Object(o["g"])("div",xe,[Object(o["g"])("div",Te,[Ve,Object(o["g"])("div",Ne,"$"+Object(o["B"])(a.total),1)])])],512),[[o["E"],a.products.length&&!a.checkoutStatus]]),Object(o["g"])("p",Je,[a.products.length?(Object(o["u"])(),Object(o["f"])("button",{key:0,disabled:!a.products.length||a.flag,type:"submit",class:"btn btn-dark"}," Checkout ",8,Ye)):Object(o["e"])("",!0)])],32)])}var De={name:"Cart",setup(){const t=Object(o["x"])([]),e=Object(o["x"])([]);let c=!1;const a=Object(H["b"])(),{checkoutStatus:i}=a.state.cart,n=Object(o["b"])(()=>a.getters["cart/cartProducts"]),s=Object(o["b"])(()=>a.getters["cart/cartTotalPrice"]),r=(t,o,a)=>{e.value[t]=parseInt(o,10)<a?1:0,c=e.value.reduce((t,e)=>t+e,0)>0},l=(t,e,c,o)=>{a.dispatch("cart/changeQuantity",{id:c,quantity:o}),r(t,e,o)},u=t=>{a.dispatch("cart/removeItem",{id:t}),window.location.reload()};return n.value.forEach((e,c)=>{t.value.push(e.quantity),r(c,e.inventory,t.value[c])}),{quantities:t,inventoryFlag:e,flag:c,store:a,checkoutStatus:i,products:n,total:s,changeQuantity:l,removeItem:u}},methods:{async checkout(){this.authState&&this.authState.isAuthenticated?(await this.store.dispatch("cart/checkout",this.products),alert("Checkout successful.")):alert("Please log in to check out.")}}};const We=N()(De,[["render",ze]]);var Ge=We;const Le={class:"main"},Xe=Object(o["g"])("h1",null,"Edit product",-1),Ze={key:0,class:"alert alert-dismissible alert-warning"},$e=Object(o["g"])("button",{type:"button",class:"close","data-dismiss":"alert"}," × ",-1),_e=Object(o["g"])("h4",{class:"alert-heading"},"Error!",-1),tc={class:"mb-0"},ec={class:"container"},cc={class:"row align-items-left"},oc={class:"col-8 text-left"},ac={class:"row align-items-center mt-3"},ic={class:"col-4"},nc={class:"form-group"},sc=Object(o["g"])("label",{for:"title"},"Title",-1),rc={class:"col-4"},lc={class:"form-group"},uc=Object(o["g"])("label",{for:"price"},"Price",-1),dc={class:"col-4"},Ac={class:"form-group"},bc=Object(o["g"])("label",{for:"inventory"},"Inventory",-1),gc=Object(o["g"])("div",{class:"row"},[Object(o["g"])("div",{class:"col-12"},[Object(o["g"])("button",{type:"submit",class:"btn btn-dark mt-3"},"Save")])],-1);function jc(t,e,c,a,i,n){return Object(o["u"])(),Object(o["f"])("div",Le,[Xe,Object(o["g"])("form",{onSubmit:e[3]||(e[3]=Object(o["I"])((...t)=>a.editProduct&&a.editProduct(...t),["prevent"]))},[a.error?(Object(o["u"])(),Object(o["f"])("div",Ze,[$e,_e,Object(o["g"])("p",tc,Object(o["B"])(a.error),1)])):Object(o["e"])("",!0),Object(o["g"])("div",ec,[Object(o["g"])("div",cc,[Object(o["g"])("p",oc,"Product ID: "+Object(o["B"])(a.id),1)]),Object(o["g"])("div",ac,[Object(o["g"])("div",ic,[Object(o["g"])("div",nc,[sc,Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.product.title=t),type:"text",class:"form-control",id:"title"},null,512),[[o["D"],a.product.title]])])]),Object(o["g"])("div",rc,[Object(o["g"])("div",lc,[uc,Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.product.price=t),type:"number",min:"0",step:"0.01",class:"form-control",id:"price",required:""},null,512),[[o["D"],a.product.price]])])]),Object(o["g"])("div",dc,[Object(o["g"])("div",Ac,[bc,Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.product.inventory=t),type:"number",class:"form-control",id:"inventory",required:""},null,512),[[o["D"],a.product.inventory]])])])]),gc])],32)])}const pc="https://shoppingsiteapi.herokuapp.com";var Oc={name:"Edit",setup(){const t=Object(tt["c"])(),e=Object(o["x"])(""),{id:c}=t.params,a=`${pc}/api/products/${c}`,i=`${pc}/api/products/${c}`,n=Object(o["x"])({});Object(o["s"])(async()=>{try{const t=await Xt.a.get(a);n.value=t.data}catch(t){e.value="Something went wrong with getting product data from database!"}});const s={headers:{Authorization:"Bearer "+l.oktaAuth.getAccessToken()}},r=async()=>{try{await Xt.a.put(i,n.value,s),e.value="",alert("The product has been updated in database!"),window.location.href=pc+"/admin"}catch(t){e.value="Something went wrong with editing product!"}};return{error:e,id:c,product:n,editProduct:r}}};const mc=N()(Oc,[["render",jc]]);var vc=mc;const hc={class:"main"},yc=Object(o["g"])("h1",null,"My account",-1),Kc={class:"container"},Uc={class:"row no-gutters"},fc=Object(o["g"])("div",{class:"col-4"},[Object(o["g"])("img",{src:ct.a,class:"card-img img-fluid"})],-1),Fc={class:"col-8 text-left"},Rc={class:"card-body"};function wc(t,e,c,a,i,n){return Object(o["u"])(),Object(o["f"])("div",hc,[yc,Object(o["g"])("div",Kc,[Object(o["g"])("div",Uc,[fc,Object(o["g"])("div",Fc,[Object(o["g"])("div",Rc,[Object(o["g"])("p",null,"User name: "+Object(o["B"])(t.claims.name),1),Object(o["g"])("p",null,"Email: "+Object(o["B"])(t.claims.email),1)])])])])])}var Bc={name:"Myaccount",data:function(){return{claims:{}}},created(){this.init()},methods:{async init(){this.authState&&this.authState.isAuthenticated&&(this.claims=await this.$auth.getUser())}}};const kc=N()(Bc,[["render",wc]]);var Qc=kc;const Ic="/login/callback",Cc=[{path:Ic,component:a["a"]},{path:"/",name:"Home",component:mt},{path:"/admin",name:"Admin",component:ce,meta:{requiresAuth:!0},beforeEnter:async(t,e,c)=>{c(await l.isInGroup("admin"))}},{path:"/product/:id",name:"Product",component:Ue},{path:"/edit/:id",name:"Edit",component:vc},{path:"/cart",name:"Cart",component:Ge},{path:"/myaccount",name:"Myaccount",component:Qc,meta:{requiresAuth:!0}}],Sc=Object(tt["a"])({history:Object(tt["b"])(),routes:Cc});Sc.beforeEach(a["c"]);var Ec=Sc,Pc=c("0e44");const qc="https://shoppingsiteapi.herokuapp.com",Mc=qc+"/api/products",Hc=qc+"/api/products/updateinventory",xc={headers:{Authorization:"Bearer "+l.oktaAuth.getAccessToken()}};let Tc=[];var Vc={getProducts(t){Xt.a.get(Mc).then(e=>{Tc=e.data,t(Tc)}).catch(t=>{console.log(t)})},buyProducts(t,e){setTimeout(()=>{e()},100)},updateInventoryInDB(t){Xt.a.put(Hc,t,xc).catch(t=>{console.log(t)})}};const Nc=()=>({items:[],checkoutStatus:null}),Jc={cartProducts:(t,e,c)=>t.items.map(({id:t,quantity:e})=>{const o=c.products.all.find(e=>e.id===t);return{id:t,title:o.title,price:o.price,quantity:e}}),cartTotalPrice:(t,e)=>{const c=e.cartProducts.reduce((t,e)=>t+e.price*e.quantity,0);return Math.round(100*c)/100},cartTotalItemNumber:t=>{const e=t.items.reduce((t,e)=>t+parseInt(e.quantity,10),0);return Number.isNaN(e)?0:e}},Yc={checkout({commit:t},e){t("setCheckoutStatus",null),t("setCartItems",{items:[]}),Vc.buyProducts(e,()=>{t("setCheckoutStatus",!0),Vc.updateInventoryInDB(e)})},addProductToCart({state:t,commit:e},{id:c,quantity:o}){e("setCheckoutStatus",null);const a=t.items.find(t=>t.id===c);e(a?"incrementItemQuantity":"pushProductToCart",{id:c,quantity:o})},changeQuantity({commit:t},{id:e,quantity:c}){t("changeItemQuantity",{id:e,quantity:c})},removeItem({commit:t},{id:e}){t("removeCartItem",{id:e})}},zc={pushProductToCart(t,{id:e,quantity:c}){t.items.push({id:e,quantity:c})},incrementItemQuantity(t,{id:e,quantity:c}){const o=t.items.find(t=>t.id===e);o.quantity=parseInt(o.quantity,10)+parseInt(c,10)},changeItemQuantity(t,{id:e,quantity:c}){const o=t.items.find(t=>t.id===e);o.quantity=parseInt(c,10)},removeCartItem(t,{id:e}){t.items=t.items.filter(t=>t.id!==e)},setCartItems(t,{items:e}){t.items=e},setCheckoutStatus(t,e){t.checkoutStatus=e}};var Dc={namespaced:!0,state:Nc,getters:Jc,actions:Yc,mutations:zc};const Wc=()=>({all:[]}),Gc={getOneProduct:t=>e=>t.all.find(t=>t.id===e)},Lc={getAllProducts({commit:t}){Vc.getProducts(e=>{t("setProducts",e)})}},Xc={setProducts(t,e){t.all=e}};var Zc={namespaced:!0,state:Wc,getters:Gc,actions:Lc,mutations:Xc};const $c=!1;var _c=Object(H["a"])({modules:{cart:Dc,products:Zc},strict:$c,plugins:[Object(Pc["a"])()]});const{oktaAuth:to}=l;Object(o["c"])(_).use(Ec).use(a["b"],{oktaAuth:to}).use(_c).mount("#app")},"61fb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAAgUlEQVR4AbzKoQ3CQAAAwHNIwBBMLUOgMDhME0QNg+GZAvM13QGFw5eQkIqHZwH+myA4ff6gdjJRtPeShFKbWbhKkqOMtbta5Sba+WrjqRc1Vg65MugsPURVvgRzwVszVuJY6UT1z2VrcC4XWhfTcqHV++w2WAkeMAGo7AAwvmgOAOzzMg3fchUyAAAAAElFTkSuQmCC"},"987e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAQAAAD8x0bcAAAAlklEQVQoU6XQMQ6CYAxA4X9Qb2Ac5GwwcRhO4WLwGIbdROOkcWAw6oKLC+PnJkogwfC6tM1L2zSEfxHJ3T3koj5lqcLBAc8ezRpxCCGIkXdLV8dPfnQbIQ1aN+TwQS8YgLnExskLFxuJ+a8wk6lBqVAoQS0za6QVzlKLT2chdcaqkWp709DCxE7dlFS2HVHxLfXSnj+ON0cAx0PFkf1zAAAAAElFTkSuQmCC"},c223:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2ODApLCBkZWZhdWx0IHF1YWxpdHkK/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAyAEsAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A9VoooqiwooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACmebHv2eYm/wDu55pl1ax3kQilL7M5IRyu72OO1VToWlGPy/7Pt8eoQA/n1oA0KRmVVLMQAOpJrM0NnEN1AZWljt7hoonY5O0AcZ74JI/Cq2n2sWtK2pXyCZJHIt4n5REBwDjpk4zmgDcVlcZVgw9Qc0tYeo2kWjINTsYxCI2HnxR8LImcH5emRnOasavNK8lpp9vI0b3bndIp5WNRlsHseg/GgDS8xN+zeu/+7nmnVm/2BpXk+X9hi/3iPn+u7rn8abpMssc93p08jSNaspSRjktGwyufUjBGaANSiio4biG4DmGRX2MUbaejDqDQBJRTJZY4ImllcJGgyzMcAClR1kRXRgysAQR3FADqYZY1ba0ihvQnmm3EAuYGhZ3VW6mNip/MVTGhaUIyn2CAg9Sy5b8zzQBo0EgDJOAKydI3297f6dvZ4bco0RY5KqwJ259sVFHAutahdSXQL2ltIYYoSflZh95mHfngfSgDZR0kGUZWHqDmnVjahpUVrbveabEltdQLvHlDaJAOSrAcHNPv9RkbSLeW0+Wa9KRwk87S4zn8Bn8qANRpEVgrOoY9AT1p1ZsegaakW2S1SdyPmlmG92PqSec1Fp++w1WXTC7PAYhNbljkoM4K59jjH1oA16KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKxrnTdWlXC6vuXvH5QTd7blOR+FaN3eRWUayTCTyycFkQsF9zjoKrPr+lJHv+3wt6BG3MfwHNAEdhNG2m3FrHbi2ltgY3hU5CnGQQe4PXNSaBj+wLHb08lfzpmkRyvNe38sTQm6kBSNhhgijAJHYnrVawuo9FDadfMIY0Zjbyt9x0JyBnsRnFAF3XMf2FfbunkN+eKqKMa5pm/r9jfH1+XNN1C7i1pRptg/nLIw+0TJykaA5Iz0JPTAqzq0MqPaX9vGZHtHJaNerIwwwHv0P4UAalZUP/I03WOn2WPd9dzf0p3/AAkGleT5hvIx/sfx/Tb1zSaRFM8t1qE8bRPdMNkbdVjUYXPoTknHvQBqVkalbPZSPqtmyJIq5njY7UmUevow7GtesprSfUrwvepss4X/AHUBOfNI/jb29B+dAFazceI3F1LxYxPhLcnl3Hdx7dh+Nb1Zd9YzQ3J1HTgPtGP3sJOFnUfyb0NaSMWRWKlSQCVPUe1ADqr3t5FY2rTzE7RwFAyWPYAdyaS/vodOspLq4JEaDsMknsKw7TU9Pubhb/Ub6281f9TAHysI/q3v+VAGrpNrLDFLc3IAurp/MkGc7eyr+A4qHw9j+z5f732mXd9d5q7aajZ3xYWtxHKU+9sOcVmxzrouoXMd1lLS5kM0c2DtVj95WPbnkUAbEuPJfd93ac/SuatR/oHhvf08z/2RsVev9VivLd7LTJFuLqYbAYuVjB4LMegwKlv9OcaTbxWgDTWZSSEHjcU4x+IyPxoA1ayrn/kZrDHXyJd30+WnR+INNaLfLcpA4+9FL8rqfTBqPTw99qkupsjpAI/Jtw4wWXOS2O2TjHsKANeiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACmhEDbgqhvXFOooAKQgEYIBHoaWigBAoUYUAD0FLRRQAmxd27aN3rjmloooAKKKKACiiigAooooAKOtFFACKqoMKoA9hS0UUAIUViCVBI6EjpS0UUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH//2Q=="},cc15:function(t,e,c){"use strict";c("156e")},fbb2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAaCAYAAADbhS54AAABbmlDQ1BpY2MAACiRdZHNK0RRGMZ/M0PEiGIhUXcxJgtTomSpUWywmBllsJm586XuHbd7Z5JslY2FshAbXwv/AVtlSylFSrLwF/jaSNd75qqRZs7t3PfXc87zds5zwD9t6KbTMARmsWTHpqLafHJBa3ohSB8dhImkdMeaiU8mqDs+7/CpehtRvervqzlaM1lHB1+z8Khu2SXhceHp1ZKleEu4Sy+kMsKHwoO2HFD4Sulpj58V5z1+V2wnYhPgVz21/B9O/2G9YJvCA8Ih0yjrv+dRNwlmi3NxqT0ye3GIMUUUjTRlljEoEZFalMxq+4YqvllWxKPL32INWxx5CuIdFLUsXbNSc6Jn5TNYU7n/z9PJjQx73YNRaHxy3bd+aNqB723X/Tpy3e9jCDzCRbHqX5Gcxj5E365qoQNo34Czy6qW3oXzTeh+sFJ2qiIFZPpzOXg9hbYkdN5Ay6KX1e86J/eQWJcnuoa9fQjL/valH1RLaDEvfZWdAAAACXBIWXMAAAsSAAALEgHS3X78AAACQUlEQVRIS+2WsWsUQRTG79zEKDFaGIhgYWOTSpsQUButNSSxuEYhRRoLm1Qp8gdIrNKliFaCjcKBkCKF1yRyEEJSiBBQMFEkR4okRQwk7Ky/J7Pe3LG7szObEwsHPvbdzHvf++bN29krlf6PAhWIssdMAepioRZhH1m/WCxD/uiy6UrilbZQxe/r4Iqef1Iul+fz05+SJ8KCBFSYU7qan3j2nVK6TJqWiiV5IuQs8zVwS69PUrUXRcXBK7mfgqtA7HV4XzvxQjJuVG0D+4ITQYIzHHeMnj7EvuHMKVWT/msSqQlnEiNAqgXeGsKee/NB8rBZNbVO2533JSN2GK4jLWyX5zVfrhLBPW1Ve+RLhrBXRrVmfXn+xEE2ZlRtDfucK6n0EsKkp2Q0ClUrTg5Jt1E1uUIqHsIWjGo9c41P9W/ttaguYvOS4zsIDvL0VldeUsPvHfYHcBsMg8ckWtJ3kY1uCof4s/aSe2srLcB6wSYFImSU+TcgAMfgp0VYpNflq3EGNGRTWcJsO0xc1722bPSKq2ntLa+KiVqU3Ocx57gzybcPRqnWdlastzAtTuLlmOR7KseaNkJ95HKMXYiS488cPs3/m1C/jQ+wLikVVYMg2EvLhO8AayPgB1i0ifJeJ5EIm40bSylVw+5NImS+H8hlHI9p78S2QDLIR/2zkSzEvpki7G7bm7EqG7MNOXOfcUJQ3QjcxP6WIuwLQr4ba3IHdm6Q7DJ4zzF+DcNwKCsTPvfw3QFV8Ff+AXdu5/8q8y/hVlQ3n00UEQAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.8952eba5.js.map